<section class="simple-tabs {{ section.settings.custom_class }}">
  <div class="simple-tabs__container">

    <h2>{{ section.settings.heading }}</h2>
    <p>{{ section.settings.subtitle }}</p>

    <!-- Tabs -->
    <div class="tabs">
      {% for block in section.blocks %}
        {% if block.type == 'tab' %}
          <button 
            class="tab-btn {% if forloop.first %}active{% endif %}" 
            data-tab="tab-{{ block.id }}">
            {{ block.settings.title }}
          </button>
        {% endif %}
      {% endfor %}
    </div>

    <!-- Tab Contents -->
    {% for block in section.blocks %}
      {% if block.type == 'tab' %}
        <div 
          class="tab-content {% if forloop.first %}active{% endif %}" 
          id="tab-{{ block.id }}">
          {{ block.settings.content }}
        </div>
      {% endif %}
    {% endfor %}

  </div>
</section>

<style>
  .tabs {
    display: flex;
    gap: 10px;
    border-bottom: 1px solid #dcdcdc;
    margin-bottom: 20px;
  }
  .tab-btn {
    padding: 10px 16px;
    background: #f2f2f2;
    border: none;
    cursor: pointer;
  }
  .tab-btn.active {
    background: #e2e2e2;
    font-weight: bold;
  }
  .tab-content {
    display: none;
    padding-top: 10px;
  }
  .tab-content.active {
    display: block;
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const buttons = document.querySelectorAll(".tab-btn");
    const contents = document.querySelectorAll(".tab-content");

    buttons.forEach(btn => {
      btn.addEventListener("click", () => {
        const id = btn.getAttribute("data-tab");

        buttons.forEach(b => b.classList.remove("active"));
        contents.forEach(c => c.classList.remove("active"));

        btn.classList.add("active");
        document.getElementById(id).classList.add("active");
      });
    });
  });
</script>

{% schema %}
{
  "name": "Simple Tabs",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Product Information"
    },
    {
      "type": "text",
      "id": "subtitle",
      "label": "Subtitle",
      "default": "Learn more about this product"
    },
    {
      "type": "text",
      "id": "custom_class",
      "label": "Custom CSS Class"
    }
  ],
  "blocks": [
    {
      "type": "tab",
      "name": "Tab",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Tab Title",
          "default": "Tab Title"
        },
        {
          "type": "html",
          "id": "content",
          "label": "Tab Content"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Simple Tabs"
    }
  ]
}
{% endschema %}
