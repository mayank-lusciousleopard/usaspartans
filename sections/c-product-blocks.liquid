{% style %}
    #{{ section.id }} {
      font-size: 16px;
      padding-top: {{ section.settings.padding_top }}em;
      padding-bottom: {{ section.settings.padding_bottom }}em;
      background-color: {{ section.settings.bg_color }};
    }

    #{{ section.id }} .c-section-top-subheading,
    #{{ section.id }} div:not(.c-button),
    #{{ section.id }} h2,
    #{{ section.id }} h3 {
      color: {{ section.settings.text_color }};
    }

    #{{ section.id }} h2 {
      color: {{ section.settings.accent_color }};
    }

    #{{ section.id }} .c-section-top {
      align-items: {{ section.settings.section_top_alignment }};
      text-align: {{ section.settings.section_top_text_alignment }};
    }

    #{{ section.id }} .c-pb-grid {
      display: grid;
      grid-template-columns: {{ section.settings.grid_template_columns }};
      gap: 1em;
    }

    /* Asegurarse de que las imágenes no sobrepasen su contenedor */
    #{{ section.id }} .c-pb-item-media img {
      width: 100%; /* La imagen ocupará todo el ancho del contenedor */
      height: auto; /* Mantendrá su proporción de aspecto */
      object-fit: contain; /* Asegura que la imagen no se recorte */
      border-radius: 10px; /* Agrega un poco de borde redondeado */
    }

    #{{ section.id }} .c-pb-item,
    #{{ section.id }} .c-pb-item > * {
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      gap: 1rem;
    }

    #{{ section.id }} .c-pb-item-content {
      width: 100%;
    }

    #{{ section.id }} .c-pb-item-row {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 1em;
      width: 100%;
    }

    /* Estilo responsive para dispositivos móviles */
    @media (max-width: 768px) {
      #{{ section.id }} .c-pb-grid {
        grid-template-columns: 1fr; /* Cambiar a una sola columna en dispositivos móviles */
      }

      #{{ section.id }} .c-pb-item-row {
        flex-direction: column;
      }
    }

    #{{ section.id }} .font__header {
      text-align: center;
      font-size: clamp(28px, 4vw, 48px) !important;
      font-style: normal;
      font-weight: 700;
      line-height: 120%; /* 57.6px */
      text-transform: capitalize;
      margin: 1rem 0;
    }

    #{{ section.id }} .sub__header {
      color: #0E83F9 !important;
      text-align: center;
      text-transform: uppercase; /* Convierte el texto a mayúsculas */
      font-size: 16px;
      font-weight: 600;
      line-height: 150%; /* 24px */
    }

    #{{ section.id }} .padding__extreme {
      padding: 0 24rem;
    }

    @media (max-width: 768px) {
      #{{ section.id }} .padding__extreme {
        padding: 0 1rem; /* Ajusta el padding a 1rem en móviles y tablets */
      }
    }

    /* Botón debajo del contenedor de imágenes */
    #{{ section.id }} .c-buttons-div {
      display: flex;
      justify-content: center;
      margin-top: 2rem;
    }

    #{{ section.id }} button:hover {
      background-color: #0E83F9; /* Cambia el background a color sólido */
      background-image: none; /* Asegúrate de que no se aplique ningún gradiente */
    }


    #{{ section.id }} .c-button {
      color: white;
      padding: 20px 40px;
      border-radius: 8px;
      font-weight: bold;
      text-align: center;
      text-transform: uppercase;
      text-decoration: none;
      border-radius: 10px;
  background: linear-gradient(90deg, #0E83F9 0%, #084D93 100%);
    }

    #{{ section.id }} .c-button:hover {

        background-color: #0E83F9; /* Cambia el background a color sólido */
        background-image: none; /* Asegúrate de que no se aplique ningún gradiente */


    }
    #{{ section.id }} .step-container {
      display: flex;
      justify-content: space-around;
      background: rgba(14, 131, 249, 0.14);
      padding: 4rem 2rem;
      border-radius: 20px;
      margin: 2rem 0;
      box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1); /* Sombra ligera */
      align-items: center; /* Alinea verticalmente los elementos en desktop */
  }

  #{{ section.id }} .step {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      text-align: center; /* Centra el texto en cada paso */
  }

  #{{ section.id }} .step svg {
      width: 30px;
      height: 30px;
  }

  #{{ section.id }} .step-text {
      font-weight: bold;
      color: #000;

  }

  /* Estilos para pantallas móviles */
  @media (max-width: 768px) {
    #{{ section.id }} .step-container {
          flex-direction: column;
          gap: 1rem;
          padding: 1rem;
      }

      #{{ section.id }} .step {
          flex-direction: column; /* Cambia a columna en móviles para centrar todo */
          justify-content: center;
          align-items: center; /* Asegura que íconos y texto estén bien alineados */
          text-align: center; /* Centra el texto dentro de cada paso */
      }

      #{{ section.id }} .step svg {
          margin-bottom: 0.5rem; /* Añade espacio debajo del ícono en móviles */
      }
  }
{% endstyle %}

<section id="{{ section.id }}" class="c-section">
  <div class="page-width">
    <div class="c-section-top">
      {%- if section.settings.section_top_subheading != empty -%}
        <p class="c-section-top-subheading sub__header">{{ section.settings.section_top_subheading }}</p>
      {%- endif -%}
      {%- if section.settings.section_top_heading != empty -%}
        <h2 class="font__header">{{ section.settings.section_top_heading }}</h2>
      {%- endif -%}
      {%- if section.settings.section_top_paragraph != empty -%}
        <div class="padding__extreme">{{ section.settings.section_top_paragraph }}</div>
      {%- endif -%}

      <!-- Pasos con íconos SVG -->
      <div class="step-container">
        <div class="step">
          <!-- Ícono del paso 1 -->
          <svg xmlns="http://www.w3.org/2000/svg" width="39" height="40" viewBox="0 0 39 40" fill="none">
            <rect y="0.5" width="39" height="39" rx="19.5" fill="white"/>
            <path d="M19.5 0.5C15.6433 0.5 11.8731 1.64366 8.66639 3.78634C5.45963 5.92903 2.96027 8.97451 1.48436 12.5377C0.00844905 16.1008 -0.377716 20.0216 0.374696 23.8043C1.12711 27.5869 2.9843 31.0615 5.71143 33.7886C8.43855 36.5157 11.9131 38.3729 15.6957 39.1253C19.4784 39.8777 23.3992 39.4916 26.9623 38.0156C30.5255 36.5397 33.571 34.0404 35.7137 30.8336C37.8564 27.6269 39 23.8567 39 20C38.9945 14.83 36.9383 9.87322 33.2826 6.21745C29.6268 2.56167 24.6701 0.50546 19.5 0.5ZM21.75 29C21.75 29.3978 21.592 29.7794 21.3107 30.0607C21.0294 30.342 20.6478 30.5 20.25 30.5C19.8522 30.5 19.4707 30.342 19.1893 30.0607C18.908 29.7794 18.75 29.3978 18.75 29V13.8125L16.5825 15.2581C16.4185 15.3675 16.2346 15.4434 16.0413 15.4817C15.8479 15.5199 15.6489 15.5197 15.4557 15.481C15.2624 15.4424 15.0787 15.366 14.9149 15.2564C14.7511 15.1467 14.6106 15.0059 14.5013 14.8419C14.3919 14.6779 14.316 14.494 14.2777 14.3006C14.2395 14.1073 14.2397 13.9083 14.2783 13.715C14.317 13.5218 14.3933 13.338 14.503 13.1743C14.6127 13.0105 14.7535 12.87 14.9175 12.7606L19.4175 9.76062C19.6428 9.61031 19.9046 9.52379 20.1751 9.51026C20.4456 9.49673 20.7147 9.55668 20.9539 9.68377C21.193 9.81085 21.3933 10.0003 21.5335 10.2321C21.6737 10.4638 21.7485 10.7292 21.75 11V29Z" fill="#0E83F9"/>
          </svg>
          <span class="step-text">Connect To Your Ice Bath</span>
        </div>

        <div class="step">
          <!-- Ícono del paso 2 -->
          <svg xmlns="http://www.w3.org/2000/svg" width="39" height="40" viewBox="0 0 39 40" fill="none">
            <rect y="0.5" width="39" height="39" rx="19.5" fill="white"/>
            <path d="M19.5 0.5C15.6433 0.5 11.8731 1.64366 8.66639 3.78634C5.45963 5.92903 2.96027 8.97451 1.48436 12.5377C0.00844905 16.1008 -0.377716 20.0216 0.374696 23.8043C1.12711 27.5869 2.9843 31.0615 5.71143 33.7886C8.43855 36.5157 11.9131 38.3729 15.6957 39.1253C19.4784 39.8777 23.3992 39.4916 26.9623 38.0156C30.5255 36.5397 33.571 34.0404 35.7137 30.8336C37.8564 27.6269 39 23.8567 39 20C38.9945 14.83 36.9383 9.87322 33.2826 6.21745C29.6268 2.56167 24.6701 0.50546 19.5 0.5ZM24 27.5C24.3978 27.5 24.7794 27.658 25.0607 27.9393C25.342 28.2206 25.5 28.6022 25.5 29C25.5 29.3978 25.342 29.7794 25.0607 30.0607C24.7794 30.342 24.3978 30.5 24 30.5H15C14.7214 30.5 14.4484 30.4224 14.2114 30.276C13.9744 30.1295 13.7829 29.92 13.6584 29.6708C13.5338 29.4217 13.4811 29.1427 13.5061 28.8653C13.5311 28.5878 13.6329 28.3229 13.8 28.1L21.8944 17.3075C22.1536 16.9621 22.3351 16.5648 22.4267 16.1428C22.5182 15.7208 22.5175 15.284 22.4247 14.8623C22.3319 14.4405 22.1492 14.0438 21.889 13.6992C21.6288 13.3545 21.2972 13.0702 20.917 12.8654C20.5368 12.6607 20.1169 12.5405 19.6859 12.513C19.255 12.4855 18.8231 12.5514 18.42 12.7061C18.0168 12.8608 17.6518 13.1007 17.3499 13.4095C17.048 13.7182 16.8163 14.0885 16.6706 14.495C16.5379 14.8702 16.2615 15.1773 15.9023 15.3487C15.5431 15.5201 15.1305 15.5418 14.7553 15.4091C14.3801 15.2763 14.073 14.9999 13.9016 14.6407C13.7302 14.2815 13.7085 13.8689 13.8413 13.4938C14.1306 12.6791 14.5926 11.9367 15.1955 11.3172C15.7985 10.6977 16.5282 10.2159 17.3347 9.90457C18.1412 9.5933 19.0054 9.45996 19.8682 9.51371C20.731 9.56745 21.572 9.807 22.3336 10.216C23.0952 10.6249 23.7595 11.1936 24.2809 11.8831C24.8023 12.5727 25.1685 13.3667 25.3546 14.2109C25.5406 15.0551 25.542 15.9296 25.3587 16.7744C25.1754 17.6192 24.8117 18.4144 24.2925 19.1056L18 27.5H24Z" fill="#0E83F9"/>
          </svg>
          <span class="step-text">Adjust The Temperature</span>
        </div>

        <div class="step">
          <!-- Ícono del paso 3 -->
          <svg xmlns="http://www.w3.org/2000/svg" width="39" height="40" viewBox="0 0 39 40" fill="none">
            <rect y="0.5" width="39" height="39" rx="19.5" fill="white"/>
            <path d="M19.5 0.5C15.6433 0.5 11.8731 1.64366 8.66639 3.78634C5.45963 5.92903 2.96027 8.97451 1.48436 12.5377C0.00844905 16.1008 -0.377716 20.0216 0.374696 23.8043C1.12711 27.5869 2.9843 31.0615 5.71143 33.7886C8.43855 36.5157 11.9131 38.3729 15.6957 39.1253C19.4784 39.8777 23.3992 39.4916 26.9623 38.0156C30.5255 36.5397 33.571 34.0404 35.7137 30.8336C37.8564 27.6269 39 23.8567 39 20C38.9945 14.83 36.9383 9.87322 33.2826 6.21745C29.6268 2.56167 24.6701 0.50546 19.5 0.5ZM18.75 31.25C17.8516 31.2528 16.9618 31.0749 16.1336 30.7266C15.3055 30.3784 14.5558 29.8671 13.9294 29.2231C13.7828 29.0845 13.6657 28.9177 13.5851 28.7327C13.5045 28.5477 13.4621 28.3484 13.4603 28.1466C13.4585 27.9449 13.4975 27.7448 13.5748 27.5585C13.6522 27.3721 13.7663 27.2033 13.9104 27.0621C14.0545 26.9209 14.2257 26.8102 14.4135 26.7366C14.6014 26.6631 14.8022 26.6282 15.0039 26.6341C15.2056 26.64 15.404 26.6865 15.5873 26.7708C15.7706 26.8552 15.935 26.9756 16.0706 27.125C16.5034 27.5665 17.0386 27.8942 17.6286 28.0788C18.2186 28.2635 18.8451 28.2994 19.4523 28.1834C20.0596 28.0674 20.6287 27.8031 21.1091 27.4139C21.5895 27.0248 21.9662 26.5229 22.2057 25.953C22.4453 25.3831 22.5402 24.7627 22.482 24.1473C22.4239 23.5318 22.2145 22.9402 21.8724 22.4252C21.5304 21.9103 21.0663 21.4878 20.5216 21.1956C19.9768 20.9033 19.3682 20.7502 18.75 20.75C18.4756 20.7499 18.2065 20.6746 17.9719 20.5322C17.7374 20.3897 17.5464 20.1857 17.4197 19.9423C17.2931 19.6989 17.2357 19.4254 17.2537 19.1516C17.2717 18.8777 17.3644 18.6141 17.5219 18.3894L21.1181 13.25H15C14.6022 13.25 14.2207 13.092 13.9393 12.8107C13.658 12.5294 13.5 12.1478 13.5 11.75C13.5 11.3522 13.658 10.9706 13.9393 10.6893C14.2207 10.408 14.6022 10.25 15 10.25H24C24.2744 10.2501 24.5435 10.3254 24.7781 10.4678C25.0126 10.6103 25.2036 10.8143 25.3303 11.0577C25.4569 11.3011 25.5144 11.5746 25.4964 11.8484C25.4783 12.1223 25.3856 12.3859 25.2281 12.6106L21.2906 18.2356C22.748 18.8205 23.9559 19.8952 24.7063 21.2746C25.4567 22.6541 25.7026 24.2521 25.4017 25.7934C25.1008 27.3346 24.272 28.7228 23.0579 29.7188C21.8438 30.7147 20.3204 31.2562 18.75 31.25Z" fill="#0E83F9"/>
          </svg>
          <span class="step-text">Let The Chiller Do The Rest</span>
        </div>
      </div>
    </div>
    <div class="c-pb-grid">
      {% for block in section.blocks %}
        {% case block.type %}
          {% when 'Item' %}
            <div class="c-pb-item" {{ block.shopify_attributes }}>
              <div class="c-pb-item-media">
                {% if block.settings.image %}
                  {{ block.settings.image | image_url: width: 1250 | image_tag: loading: 'lazy', height: 'auto' }}
                {% endif %}
              </div>
              <div class="c-pb-item-content">
                <div class="c-pb-item-row">
                  <h3>{{ block.settings.heading }}</h3>
                </div>
              </div>
            </div>
        {% endcase %}
      {% endfor %}
    </div>

    <!-- Botón agregado debajo de las cards -->
    <div class="c-buttons-div">
      <a href="{{ section.settings.button_url }}" class="c-button">{{ section.settings.button_text }}</a>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "C Image Blocks",
  "blocks": [
    {
      "name": "Item",
      "type": "Item",
      "limit": 50,
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "My heading"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        }
      ]
    }
  ],
  "settings": [
    {
      "type": "text",
      "id": "grid_template_columns",
      "label": "Grid template columns",
      "default": "1fr 1fr 1fr"
    },
    {
      "type": "text",
      "id": "grid_template_columns_mobile",
      "label": "Grid template columns mobile",
      "default": "1fr"
    },
    {
      "type": "header",
      "content": "Button"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button Text",
      "default": "Buy Now"
    },
    {
      "type": "url",
      "id": "button_url",
      "label": "Button URL"
    },
    {
      "type": "header",
      "content": "Section Colors"
    },
    {
      "type": "color",
      "id": "accent_color",
      "label": "Accent color",
      "default": "#5d3be4"
    },
    {
      "type": "color",
      "id": "bg_color",
      "label": "Background color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text color",
      "default": "#000000"
    },
    {
      "type": "header",
      "content": "Section Top"
    },
    {
      "type": "text",
      "id": "section_top_subheading",
      "label": "Subheading",
      "default": "subheading"
    },
    {
      "type": "text",
      "id": "section_top_heading",
      "label": "Heading",
      "default": "Section Heading"
    },
    {
      "type": "richtext",
      "id": "section_top_paragraph",
      "label": "Paragraph",
      "default": "<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse varius enim in eros elementum tristique. Duis cursus, mi quis viverra ornare.</p>"
    },
    {
      "type": "select",
      "id": "section_top_alignment",
      "label": "Section Top Alignment",
      "default": "center",
      "options": [
        {
          "value": "flex-start",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "flex-end",
          "label": "Right"
        }
      ]
    },
    {
      "type": "select",
      "id": "section_top_text_alignment",
      "label": "Text alignment",
      "default": "center",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ]
    },
    {
      "type": "header",
      "content": "Section Padding"
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "Padding top",
      "min": 0,
      "max": 15,
      "step": 1,
      "default": 4,
      "unit": "rem"
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "Padding bottom",
      "min": 0,
      "max": 15,
      "step": 1,
      "default": 4,
      "unit": "rem"
    }
  ],
  "presets": [
    {
      "name": "C Image Blocks",
      "blocks": [
        {
          "type": "Item"
        },
        {
          "type": "Item"
        },
        {
          "type": "Item"
        }
      ]
    }
  ]
}
{% endschema %}
