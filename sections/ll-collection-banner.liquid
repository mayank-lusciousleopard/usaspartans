{% schema %}
{
  "name": "LL Collection Banner",
  "settings": [
    {
      "type": "header",
      "content": "Image Settings"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Desktop Image"
    },
    {
      "type": "image_picker",
      "id": "image_mobile",
      "label": "Mobile Image"
    },
    {
      "type": "header",
      "content": "Dimensions & Layout"
    },
    {
      "type": "range",
      "id": "max_width",
      "min": 300,
      "max": 2000,
      "step": 20,
      "unit": "px",
      "label": "Max Width (Desktop)",
      "default": 1200
    },
    {
      "type": "range",
      "id": "image_height",
      "min": 0,
      "max": 1000,
      "step": 10,
      "unit": "px",
      "label": "Image Height (Desktop)",
      "default": 0,
      "info": "Set to 0 for auto height based on image aspect ratio."
    },
    {
      "type": "range",
      "id": "image_height_mobile",
      "min": 0,
      "max": 800,
      "step": 10,
      "unit": "px",
      "label": "Image Height (Mobile)",
      "default": 0,
      "info": "Set to 0 for auto height based on image aspect ratio."
    },
    {
      "type": "select",
      "id": "object_fit",
      "label": "Image Fit",
      "options": [
        {
          "value": "cover",
          "label": "Cover (Crop to fill)"
        },
        {
          "value": "contain",
          "label": "Contain (Show full image)"
        }
      ],
      "default": "cover",
      "info": "Only applies if a fixed height is set above."
    },
    {
      "type": "header",
      "content": "Styles"
    },
    {
      "type": "color",
      "id": "bg_color",
      "label": "Background Color",
      "default": "#FFFFFF"
    },
    {
      "type": "header",
      "content": "Margins (Desktop)"
    },
    {
      "type": "range",
      "id": "margin_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Margin Top",
      "default": 40
    },
    {
      "type": "range",
      "id": "margin_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Margin Bottom",
      "default": 40
    },
    {
      "type": "range",
      "id": "margin_left",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Margin Left",
      "default": 0
    },
    {
      "type": "range",
      "id": "margin_right",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Margin Right",
      "default": 0
    },
    {
      "type": "header",
      "content": "Margins (Mobile)"
    },
    {
      "type": "range",
      "id": "margin_top_m",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Margin Top (Mobile)",
      "default": 20
    },
    {
      "type": "range",
      "id": "margin_bottom_m",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Margin Bottom (Mobile)",
      "default": 20
    },
    {
      "type": "range",
      "id": "margin_left_m",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Margin Left (Mobile)",
      "default": 0
    },
    {
      "type": "range",
      "id": "margin_right_m",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Margin Right (Mobile)",
      "default": 0
    }
  ],
  "presets": [
    {
      "name": "LL Collection Banner"
    }
  ]
}
{% endschema %}

{%- style -%}
  .section-{{ section.id }}-wrapper {
    background-color: {{ section.settings.bg_color }};
    margin-top: {{ section.settings.margin_top }}px;
    margin-bottom: {{ section.settings.margin_bottom }}px;
    margin-left: {{ section.settings.margin_left }}px;
    margin-right: {{ section.settings.margin_right }}px;
    overflow: hidden;
    padding: 0 2rem;
  }

  .ll-banner-img-{{ section.id }} {
    display: block;
    width: 100%;
    /* max-width: {{ section.settings.max_width }}px; */
    border-radius: 18px;
    {% if section.settings.image_height > 0 %}
      height: {{ section.settings.image_height }}px;
      object-fit: {{ section.settings.object_fit }};
    {% else %}
      height: auto;
    {% endif %}
  }

  @media screen and (max-width: 768px) {
    .section-{{ section.id }}-wrapper {
      margin-top: {{ section.settings.margin_top_m }}px;
      margin-bottom: {{ section.settings.margin_bottom_m }}px;
      margin-left: {{ section.settings.margin_left_m }}px;
      margin-right: {{ section.settings.margin_right_m }}px;
    }

    .ll-banner-img-{{ section.id }} {
      {% if section.settings.image_height_mobile > 0 %}
        height: {{ section.settings.image_height_mobile }}px;
        object-fit: {{ section.settings.object_fit }};
      {% else %}
        height: auto;
      {% endif %}
    }
    .ll-banner-img-{{ section.id }} {
    border-radius: 12px;
  }
  .section-{{ section.id }}-wrapper {
    padding: 0 1rem;
  }
  }
{%- endstyle -%}
{%- if section.settings.image != blank -%}
<div class="section-{{ section.id }}-wrapper">
  
    <picture>
      {%- if section.settings.image_mobile != blank -%}
        <source media="(max-width: 768px)" srcset="{{ section.settings.image_mobile | image_url: width: 800 }}">
      {%- endif -%}
      <img
        src="{{ section.settings.image | image_url: width: 2000 }}"
        alt="{{ section.settings.image.alt | escape }}"
        loading="lazy"
        class="ll-banner-img-{{ section.id }}"
        width="{{ section.settings.image.width }}"
        height="{{ section.settings.image.height }}"
      >
    </picture>

</div>
  {%- endif -%}